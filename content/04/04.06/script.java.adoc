include::./title.adoc[]

Let’s switch back to the feature to show you one more technique for improving the readability of your scenarios.

When we have common context steps - the givens - in all the scenarios in our feature, it can sometimes be useful to get those out of the way. We can literally move them into the background, using a background keyword, like this:

[moves Given steps into background]
shot::[???]

As far as Cucumber is concerned, these scenarios haven’t changed. It will still create both Lucy and Sean as the first things it does when running each of these scenarios. But from a readability point of view, we can now see more clearly what’s important and interesting about these two scenarios - in this case, the message being shouted.

Notice we just went straight into When steps in our scenarios. That’s absolutely fine. We still have a context for the scenario, but we’ve chosen to push it off into the background.

Again, it’s debatable whether we’d bother to use a Background yet on a real project, but this at least illustrates the technique. Hopefully you’re already thinking about how you can use it on your own code.
Sum up and close

shot::[???, "04.06.animation.mp4"]

To maintain trust in the BDD process, it’s important to keep your features fresh. Even when you drive the development from BDD scenarios, you’ll still learn lessons from the implementation that might need to be fed back into your Gherkin documentation.

In this case, we discovered that we could find a smaller slice of this story, and defer the business rule about proximity until our next iteration. Splitting stories like this is a powerful agile technique, and one that BDD can help you to master. Now we have a clean codebase and suite of scenarios that reflects the current state of the system’s development.

We’re ready to start the next iteration.
